# Environment Variables for Backend Configuration

# These should be set in ECS task definition or container environment
# CDK will inject these from this .env file

# ASP.NET Core
ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_URLS=http://+:5000

# MongoDB Connection (External/Atlas/Free Tier)
# Format: mongodb://username:password@host:port/database?options
# Example: mongodb+srv://admin:password@cluster0.mongodb.net/tictactoe?retryWrites=true&w=majority
MONGODB_CONNECTION_STRING=mongodb://your-username:your-password@your-host:27017/tictactoe

# Redis Connection (External/Upstash/Free Tier)
# Format: redis://host:port or host:port,password=your-password
# Example: redis://my-redis.upstash.io:6379 or my-redis.upstash.io:6379,password=yourpassword
REDIS_CONNECTION_STRING=redis://your-redis-host:6379

# Frontend URL (CloudFront distribution URL)
# After first deployment, update this with the actual CloudFront URL for CORS
# Initial: https://*.cloudfront.net (wildcard for testing)
# Production: https://d111111abcdef8.cloudfront.net (exact URL for security)
FRONTEND_URL=https://*.cloudfront.net

# JWT Configuration - Automatically generated by CDK in Secrets Manager
# JwtConfiguration__Secret=<auto-generated-by-cdk>
JwtConfiguration__Issuer=tictactoe-api
JwtConfiguration__Audience=tictactoe-client
JwtConfiguration__ExpiryMinutes=60
JwtConfiguration__RefreshTokenExpiryDays=7

# CORS Configuration
CorsConfiguration__AllowedOrigins=https://*.cloudfront.net,https://tictactoe.example.com

# SignalR
SignalR__EnableDetailedErrors=false
SignalR__KeepAliveInterval=00:00:15
SignalR__HandshakeTimeout=00:00:15

# Logging
Logging__LogLevel__Default=Information
Logging__LogLevel__Microsoft.AspNetCore=Warning
Logging__LogLevel__Microsoft.AspNetCore.SignalR=Information
